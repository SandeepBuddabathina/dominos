<!-- Page Header -->
<div class="p-4 bg-white border-b shadow-sm">
  <h1 class="text-2xl font-semibold">Payment Options</h1>
</div>

<!-- Main Layout -->
<div class="flex flex-col gap-4 p-4 pb-24 mx-auto font-sans lg:flex-row lg:justify-between max-w-7xl">
  <!-- Left: Payment Methods -->
  <div class="flex-1 p-4 space-y-4 bg-white border rounded shadow-sm">
    <!-- Saved Payment -->
    <div>
      <h3 class="mb-2 font-medium">Saved payment options</h3>
      <div class="flex items-center justify-between p-4 border rounded hover:shadow-sm">
        <div class="flex items-center gap-2">
          <img src="https://upload.wikimedia.org/wikipedia/commons/0/04/Visa.svg" class="h-5" />
          <span>OneCard Credit Card</span>
          <span class="text-gray-500">XXXX9606</span>
        </div>
        <input type="radio" name="payment" (click)="selectPayment('OneCard')" />
      </div>
    </div>

    <!-- UPI Apps -->
    <div>
      <div class="flex items-center justify-between">
        <h3 class="font-medium">UPI Apps</h3>
        <span class="text-xl">‚åÑ</span>
      </div>
      <div class="flex items-center justify-between p-4 mt-2 border rounded">
        <div class="flex items-center gap-2">
          <img src="https://upload.wikimedia.org/wikipedia/commons/b/bb/UPI-Logo-vector.svg" class="h-5" />
          <span>Pay by any UPI App</span>
        </div>
        <input type="radio" name="payment" (click)="selectPayment('UPI')" />
      </div>
    </div>

    <!-- Wallet -->
    <div>
      <div class="flex items-center justify-between">
        <h3 class="font-medium">Wallet</h3>
        <span class="text-xl">‚åÑ</span>
      </div>
      <div class="flex items-center justify-between p-4 mt-2 border rounded">
        <div class="flex items-center gap-2">
          <img src="https://upload.wikimedia.org/wikipedia/commons/3/3f/MobiKwik_Logo.png" class="h-5" />
          <span>MobiKwik</span>
        </div>
        <input type="radio" name="payment" (click)="selectPayment('MobiKwik')" />
      </div>
      <div class="mt-1 text-sm text-center text-blue-600 cursor-pointer">View all wallets ‚åÑ</div>
    </div>

    <!-- Credit Card -->
    <div>
      <div class="flex items-center justify-between">
        <h3 class="font-medium">Credit Card</h3>
        <span class="text-xl">‚åÑ</span>
      </div>
      <div class="flex items-center justify-between p-4 mt-2 text-blue-600 border rounded">
        <span class="flex items-center gap-2">‚ûï Add New Card</span>
        <input type="radio" name="payment" (click)="selectPayment('NewCard')" />
      </div>
    </div>

    <div class="pt-4 text-sm text-gray-500 border-t">
      Select payment method to proceed further
    </div>
  </div>

  <!-- Right: Order Summary -->
  <div class="w-full p-4 bg-white border rounded shadow-sm lg:w-1/3">
    <div  class="mb-2 text-sm text-gray-600">
      <div class="items-center gap-6 ">
        üìç <span>Deliver to:</span>
        <p class="mt-2">{{ deliveryAddress }}</p><br/><!-- Display dynamic address here -->
      </div>
      <div class="flex items-center gap-2 mt-1">‚è∞ Delivery Now</div>
    </div>
    
    

    <div class="pt-4 border-t">
      <h3 class="mb-2 text-lg font-semibold">Price Details</h3>
      <div class="flex justify-between mb-1 text-sm">
        <span>Sub Total</span>
        <span>‚Çπ{{ subTotal.toFixed(2) }}</span>
      </div>
      <div class="flex justify-between text-sm">
        <span>Taxes and Charges</span>
        <span>‚Çπ{{ taxAmount.toFixed(2) }}</span>
      </div>
      <div class="flex justify-between mt-2 font-semibold">
        <span>Grand Total</span>
        <span>‚Çπ{{ grandTotal.toFixed(2) }}</span>
      </div>
    </div>

    <div class="flex items-center justify-around mt-6 text-sm text-gray-500">
      <div class="flex flex-col items-center">üî•<span>Hot Deliveries</span></div>
      <div class="flex flex-col items-center">üõ°Ô∏è<span>Secure Payment</span></div>
    </div>
  </div>
</div>

<!-- Sticky Place Order Button -->
<div class="fixed bottom-0 left-0 z-50 w-full p-4 bg-white border-t shadow-md">
  <div class="mx-auto max-w-7xl">
    <button
      class="w-full py-3 text-lg text-white bg-gray-800 rounded"
      (click)="placeOrder()"
    >
      Place Order ‚Çπ{{ grandTotal.toFixed(2) }}
    </button>
  </div>
</div>
<div
  *ngIf="visible"
  class="fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50"
>
  <div class="p-6 text-center bg-white rounded-lg shadow-lg w-80">
    <h2 class="mb-4 text-xl font-semibold">üéâ Order Placed!</h2>
    <p class="mb-4 text-gray-600">Thank you for your order.</p>
    <button class="px-4 py-2 text-white bg-blue-600 rounded" (click)="visible = true">
      Close
    </button>
  </div>
</div>

<!-- Order Confirmation Component -->
<app-orderplaced [visible]="showConfirmation"></app-orderplaced>
